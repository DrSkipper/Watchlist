
-- Data Pipeline --

Sheet-to-Game:

1) Edit the sheet, save your changes.
2) Open the corresponding XML file in Assets/StreamingAssets/Data (Notepad++ is fine). Also open the .csv in something like Notepad++ which lets you view the raw text.
2) http://www.convertcsv.com/csv-to-xml.htm - Change 'Top-level Root Name' to something like "WeaponTypes", change 'Each Record XML Name' to something like "WeaponType". Paste the entire .csv contents into the input field and press 'Convert CSV to XML'.
3) Highlight the contents of the output field except for the first line and copy it. In the XML file in Assets/StreamingAssets/Data, highlight the inner section (between something like <WeaponData> and </WeaponData>), and paste over the contents.
4) Open the game in Unity, open the PrototypeSandbox2d scene, run and stop it once to make sure Unity's file system has updated, highlight the DataExaminer game object, and press 'Load'. Check some of the changes you made using the inspector for that game object, make sure they seem ok and that no errors were generated in the process.
5) Apply the changes to DataExaminer to its prefab, save the scene, commit/push your changes to Git. To make sure unity registers the change, you might have to delete the prefab and re-drag the object into the Prefabs folder, then save the scene.

Game-to-Sheet:
(If you have a change to a data-driven object within Unity you'd like to apply to the static data)

1) Make sure whatever change you want to make is present in the DataExaminer game object (PrototypeSandbox2d scene)'s data array.
2) Apply the changes to DataExaminer to its prefab. Press 'Save' in its inspector. Save the scene.
3) Run and stop the game once to make sure Unity's file system has updated. Press 'Load' in DataExaminer's inspector. Nothing should change, and no errors should have been generated by this whole process.
4) Open the corresponding XML file in Assets/StreamingAssets/Data. Also open the corresponding .csv file in something like Notepad++.
4) http://www.convertcsv.com/xml-to-csv.htm - Highlight the inner contents of the XML file (contents non-inclusively inside something like <WeaponData> and </WeaponData>) and paste them into the input field. Press 'Convert XML to CSV'. Highlight the entire output field and paste it into the .csv, replacing its entire contents.
5) Make sure the .csv and the Unity scene are saved and commit/push your changes to Git.
